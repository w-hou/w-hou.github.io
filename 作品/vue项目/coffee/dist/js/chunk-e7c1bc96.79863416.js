(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7c1bc96"],{"02e7":function(t,e,a){"use strict";var r=a("e9e4"),n=a.n(r);n.a},"14c3":function(t,e,a){var r=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"159b":function(t,e,a){var r=a("da84"),n=a("fdbc"),i=a("17c2"),o=a("9112");for(var c in n){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,n=a("a640"),i=a("ae40"),o=n("forEach"),c=i("forEach");t.exports=o&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"22a0":function(t,e,a){"use strict";var r=a("bb2e"),n=a.n(r);n.a},4160:function(t,e,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(t,e,a){var r=a("861d"),n=a("c6b6"),i=a("b622"),o=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"4d63":function(t,e,a){var r=a("83ab"),n=a("da84"),i=a("94ca"),o=a("7156"),c=a("9bf2").f,s=a("241c").f,u=a("44e7"),l=a("ad6d"),d=a("9f7f"),f=a("6eeb"),v=a("d039"),p=a("69f3").set,g=a("2626"),h=a("b622"),m=h("match"),x=n.RegExp,E=x.prototype,b=/a/g,y=/a/g,_=new x(b)!==b,C=d.UNSUPPORTED_Y,S=r&&i("RegExp",!_||C||v((function(){return y[m]=!1,x(b)!=b||x(y)==y||"/a/i"!=x(b,"i")})));if(S){var R=function(t,e){var a,r=this instanceof R,n=u(t),i=void 0===e;if(!r&&n&&t.constructor===R&&i)return t;_?n&&!i&&(t=t.source):t instanceof R&&(i&&(e=l.call(t)),t=t.source),C&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var c=o(_?new x(t,e):x(t,e),r?this:E,R);return C&&a&&p(c,{sticky:a}),c},k=function(t){t in R||c(R,t,{configurable:!0,get:function(){return x[t]},set:function(e){x[t]=e}})},O=s(x),$=0;while(O.length>$)k(O[$++]);E.constructor=R,R.prototype=E,f(n,"RegExp",R)}g("RegExp")},5319:function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),i=a("7b0b"),o=a("50c4"),c=a("a691"),s=a("1d80"),u=a("8aa5"),l=a("14c3"),d=Math.max,f=Math.min,v=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,a,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=r.REPLACE_KEEPS_$0,E=m?"$":"$0";return[function(a,r){var n=s(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,r):e.call(String(n),a,r)},function(t,r){if(!m&&x||"string"===typeof r&&-1===r.indexOf(E)){var i=a(e,t,this,r);if(i.done)return i.value}var s=n(t),v=String(this),p="function"===typeof r;p||(r=String(r));var g=s.global;if(g){var y=s.unicode;s.lastIndex=0}var _=[];while(1){var C=l(s,v);if(null===C)break;if(_.push(C),!g)break;var S=String(C[0]);""===S&&(s.lastIndex=u(v,o(s.lastIndex),y))}for(var R="",k=0,O=0;O<_.length;O++){C=_[O];for(var $=String(C[0]),N=d(f(c(C.index),v.length),0),T=[],w=1;w<C.length;w++)T.push(h(C[w]));var D=C.groups;if(p){var I=[$].concat(T,N,v);void 0!==D&&I.push(D);var A=String(r.apply(void 0,I))}else A=b($,v,N,T,D,r);N>=k&&(R+=v.slice(k,N)+A,k=N+$.length)}return R+v.slice(k)}];function b(t,a,r,n,o,c){var s=r+t.length,u=n.length,l=g;return void 0!==o&&(o=i(o),l=p),e.call(c,l,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,r);case"'":return a.slice(s);case"<":c=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>u){var d=v(l/10);return 0===d?e:d<=u?void 0===n[d-1]?i.charAt(1):n[d-1]+i.charAt(1):e}c=n[l-1]}return void 0===c?"":c}))}}))},7156:function(t,e,a){var r=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var i,o;return n&&"function"==typeof(i=e.constructor)&&i!==a&&r(o=i.prototype)&&o!==a.prototype&&n(t,o),t}},"8aa5":function(t,e,a){"use strict";var r=a("6547").charAt;t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},9263:function(t,e,a){"use strict";var r=a("ad6d"),n=a("9f7f"),i=RegExp.prototype.exec,o=String.prototype.replace,c=i,s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=s||l||u;d&&(c=function(t){var e,a,n,c,d=this,f=u&&d.sticky,v=r.call(d),p=d.source,g=0,h=t;return f&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),h=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",h=" "+h,g++),a=new RegExp("^(?:"+p+")",v)),l&&(a=new RegExp("^"+p+"$(?!\\s)",v)),s&&(e=d.lastIndex),n=i.call(f?a:d,h),f?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:s&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),l&&n&&n.length>1&&o.call(n[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},"9f7f":function(t,e,a){"use strict";var r=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),i=a("a691"),o=a("50c4"),c=a("7b0b"),s=a("65f0"),u=a("8418"),l=a("1dde"),d=a("ae40"),f=l("splice"),v=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,e){var a,r,l,d,f,v,x=c(this),E=o(x.length),b=n(t,E),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=E-b):(a=y-2,r=g(p(i(e),0),E-b)),E+a-r>h)throw TypeError(m);for(l=s(x,r),d=0;d<r;d++)f=b+d,f in x&&u(l,d,x[f]);if(l.length=r,a<r){for(d=b;d<E-r;d++)f=d+r,v=d+a,f in x?x[v]=x[f]:delete x[v];for(d=E;d>E-r+a;d--)delete x[d-1]}else if(a>r)for(d=E-r;d>b;d--)f=d+r-1,v=d+a-1,f in x?x[v]=x[f]:delete x[v];for(d=0;d<a;d++)x[d+b]=arguments[d+2];return x.length=E-r+a,l}})},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},bb2e:function(t,e,a){},c975:function(t,e,a){"use strict";var r=a("23e7"),n=a("4d64").indexOf,i=a("a640"),o=a("ae40"),c=[].indexOf,s=!!c&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!u||!l},{indexOf:function(t){return s?c.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},cf2a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[t.isLogin?a("van-tabs",{attrs:{sticky:!0},on:{change:t.getOrder},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabList,(function(e,r){return a("van-tab",{key:r,attrs:{title:e.title,name:e.name}},[a("div",{staticClass:"order-content"},t._l(t.orderNum,(function(e,r){return a("div",{key:r,staticClass:"order-item"},[a("div",{staticClass:"order-title"},[a("div",{staticClass:"order-number"},[t._v(t._s(e))]),1==t.orderData[e].status?a("div",{staticClass:"goods-status"},[a("span",{on:{click:function(a){return t.receipt(e)}}},[t._v("确认收货")])]):a("div",{staticClass:"goods-status"},[a("span",[t._v("已完成")]),a("span",{staticClass:"del",on:{click:function(a){return t.del(e)}}},[a("van-icon",{attrs:{name:"delete"}})],1)])]),a("div",{staticClass:"order-goods"},[t._l(t.orderData[e].data,(function(e,r){return a("div",{key:r,staticClass:"goods"},[a("div",{staticClass:"goods-img"},[a("img",{staticClass:"auto-img",attrs:{src:e.smallImg,alt:""}})]),a("div",{staticClass:"goods-content"},[a("div",{staticClass:"goods-text"},[a("div",{staticClass:"goods-title"},[a("span",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"price"},[t._v("￥"+t._s(e.price))])]),a("div",{staticClass:"enname"},[t._v(t._s(e.enname))])]),a("div",{staticClass:"goods-rule"},[a("span",{staticClass:"rule"},[t._v(t._s(e.rule))]),a("span",{staticClass:"count"},[t._v("×"+t._s(e.count))])])])])})),a("div",{staticClass:"foot"},[a("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(t.orderData[e].time,"yyyy-MM-dd hh:mm:ss")))]),a("div",{staticClass:"total"},[a("span",{staticClass:"total-count"},[t._v("共计 "+t._s(t.orderData[e].count)+" 件商品 合计：")]),a("span",{staticClass:"total-pic"},[t._v("￥"+t._s(t.orderData[e].total))])])])],2)])})),0)])})),1):a("van-empty",{attrs:{image:"error",description:"还没有登录, 请先登录"}},[a("span",{staticClass:"goLogin",on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v("去登陆>")])]),a("NavBar")],1)},n=[],i=(a("4160"),a("c975"),a("a434"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("159b"),a("e7e5"),a("d399")),o=a("d000"),c={name:"Order",data:function(){return{tabList:[{title:"全部",name:"0"},{title:"待收货",name:"1"},{title:"已收货",name:"2"}],activeName:"0",orderNum:null,orderData:{},isLogin:!1}},methods:{getOrder:function(t){var e=this,a=localStorage.getItem("Tk");i["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:a,status:this.activeName}}).then((function(t){if(i["a"].clear(),7e4==t.data.code){e.isLogin=!0,t.data.result.sort((function(t,e){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));var a=[],r={};t.data.result.forEach((function(t){-1===a.indexOf(t.oid)&&a.push(t.oid),r[t.oid]?(r[t.oid].count+=t.count,r[t.oid].total+=t.count*t.price,r[t.oid].data.push(t)):r[t.oid]={data:[t],status:t.status,time:t.createdAt,count:t.count,total:t.count*t.price}})),e.orderNum=a,e.orderData=r}})).catch((function(t){i["a"].clear(),e.isLogin=!1}))},receipt:function(t){var e=this,a=localStorage.getItem("Tk");i["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:a,oid:t}}).then((function(a){if(i["a"].clear(),8e4==a.data.code&&(i["a"].success(a.data.msg),e.orderData[t].status=2,1==e.activeName)){var r=e.orderNum.indexOf(t);e.orderNum.splice(r,1)}})).catch((function(t){i["a"].clear()}))},del:function(t){var e=this,a=localStorage.getItem("Tk");i["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:a,oid:t}}).then((function(a){if(i["a"].clear(),9e4==a.data.code){i["a"].success(a.data.msg);var r=e.orderNum.indexOf(t);e.orderNum.splice(r,1)}})).catch((function(t){i["a"].clear()}))}},components:{NavBar:o["a"]},filters:{formatDate:function(t,e){var a=new Date(t),r=a.getFullYear();/(y+)/.test(e)&&(e=e.replace(RegExp.$1,r));var n={M:a.getMonth()+1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};for(var i in n)if(new RegExp("(".concat(i,"+)")).test(e)){var o=RegExp.$1,c=n[i]>=10?n[i]:2==o.length?"0"+n[i]:n[i];e=e.replace(o,c)}return e}},created:function(){this.getOrder(),this.$store.state.active=1}},s=c,u=(a("02e7"),a("2877")),l=Object(u["a"])(s,r,n,!1,null,"0f2f6ef0",null);e["default"]=l.exports},d000:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-tabbar",{model:{value:t.$store.state.active,callback:function(e){t.$set(t.$store.state,"active",e)},expression:"$store.state.active"}},t._l(t.tabbarData,(function(e,r){return a("van-tabbar-item",{key:r,attrs:{icon:e.icon,to:e.path}},[t._v(t._s(e.title))])})),1)],1)},n=[],i={data:function(){return{tabbarData:[{icon:"wap-home-o",title:"首页",path:"/home"},{icon:"completed",title:"订单",path:"/order"},{icon:"shopping-cart-o",title:"购物车",path:"/shopcart"},{icon:"contact",title:"我的",path:"/my"}]}},methods:{}},o=i,c=(a("22a0"),a("2877")),s=Object(c["a"])(o,r,n,!1,null,"3e80af71",null);e["a"]=s.exports},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),i=a("b622"),o=a("9263"),c=a("9112"),s=i("species"),u=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var p=i(t),g=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=g&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[s]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return e=!0,null},a[p](""),!e}));if(!g||!h||"replace"===t&&(!u||!l||f)||"split"===t&&!v){var m=/./[p],x=a(p,""[t],(function(t,e,a,r,n){return e.exec===o?g&&!n?{done:!0,value:m.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),E=x[0],b=x[1];r(String.prototype,t,E),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}d&&c(RegExp.prototype[p],"sham",!0)}},e7e5:function(t,e,a){"use strict";a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75"),a("e3b3"),a("b258")},e9e4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e7c1bc96.79863416.js.map