(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e39d2e0"],{"0311":function(t,e,a){"use strict";var o=a("49a5"),n=a.n(o);n.a},"131c":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"safety"},[a("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),a("div",{staticClass:"list-box"},[a("van-button",{attrs:{type:"default",block:!0},on:{click:function(e){t.isShow=!0}}},[t._v("修改密码")]),a("van-button",{attrs:{type:"default",block:!0},on:{click:t.destroy}},[t._v("注销账号")])],1),a("div",{staticClass:"logout"},[a("van-button",{attrs:{round:!0,block:!0,type:"info"},on:{click:t.logout}},[t._v("退出登录")])],1),a("van-popup",{attrs:{round:"",closeable:"",position:"bottom"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("h3",{staticClass:"title"},[t._v("修改密码")]),a("van-form",{on:{submit:t.onSubmit}},[a("van-field",{attrs:{name:"旧密码",label:"旧密码",placeholder:"旧密码(6-16位)"},model:{value:t.pwd.oldPassword,callback:function(e){t.$set(t.pwd,"oldPassword",e)},expression:"pwd.oldPassword"}}),a("van-field",{attrs:{type:"text",name:"新密码",label:"新密码",placeholder:"新密码(6-16位)"},model:{value:t.pwd.password,callback:function(e){t.$set(t.pwd,"password",e)},expression:"pwd.password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v(" 提交 ")])],1)],1)],1)],1)},n=[],s=(a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75"),a("e3b3"),a("bc1b"),a("2fcb"),a("2241")),r=(a("e7e5"),a("d399")),i=a("e3a8"),c={data:function(){return{isShow:!1,pwd:{oldPassword:"",password:""}}},methods:{onSubmit:function(){var t=this;if(i["a"].validateForm(this.pwd)){var e=localStorage.getItem("Tk");r["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/updatePassword",data:{appkey:this.appkey,tokenString:e,password:this.pwd.password,oldPassword:this.pwd.oldPassword}}).then((function(e){r["a"].clear(),t.isShow=!1,"E001"==e.data.code?(Object(r["a"])("修改成功"),localStorage.removeItem("Tk"),t.$router.push({name:"Login"})):Object(r["a"])(e.data.msg)})).catch((function(t){r["a"].clear()}))}},logout:function(){localStorage.removeItem("Tk"),this.$router.push({name:"Login"})},destroy:function(){var t=this;s["a"].confirm({title:"注销账号",message:"警告: 注销后数据不可恢复!"}).then((function(){var e=localStorage.getItem("Tk");r["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),t.axios({method:"POST",url:"/destroyAccount",data:{appkey:t.appkey,tokenString:e}}).then((function(e){r["a"].clear(),"G001"==e.data.code?(Object(r["a"])(e.data.msg),localStorage.removeItem("Tk"),t.$router.push({name:"Login"})):Object(r["a"])(e.data.msg)})).catch((function(t){r["a"].clear()}))})).catch((function(){}))}}},l=c,d=(a("0311"),a("2877")),u=Object(d["a"])(l,o,n,!1,null,"3446efce",null);e["default"]=u.exports},"49a5":function(t,e,a){},e3a8:function(t,e,a){"use strict";a("e7e5");var o=a("d399");function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),t}var i=function(){function t(){n(this,t),this.Reg={phone:{reg:/^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/,msg:"手机号格式不正确"},nickName:{reg:/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_]){2,7}$/,msg:"昵称格式不正确"},password:{reg:/^\w{6,16}$/,msg:"密码格式不正确"},oldPassword:{reg:/^[a-zA-Z]\w{5,15}$/,msg:"旧密码格式不正确且以字母开头"},email:{reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,msg:"邮箱格式不正确"},code:{reg:/^\d{6}$/,msg:"验证格式正确"}}}return r(t,[{key:"validateForm",value:function(t){for(var e in t)if(!this.Reg[e].reg.test(t[e]))return Object(o["a"])(this.Reg[e].msg),!1;return!0}}]),t}();e["a"]=new i},e7e5:function(t,e,a){"use strict";a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75"),a("e3b3"),a("b258")}}]);
//# sourceMappingURL=chunk-7e39d2e0.a170b793.js.map