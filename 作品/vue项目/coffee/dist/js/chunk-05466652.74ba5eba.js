(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05466652"],{1276:function(t,e,a){"use strict";var s=a("d784"),n=a("44e7"),r=a("825a"),i=a("1d80"),c=a("4840"),o=a("8aa5"),l=a("50c4"),u=a("14c3"),d=a("9263"),f=a("d039"),p=[].push,h=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));s("split",2,(function(t,e,a){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var s=String(i(this)),r=void 0===a?v:a>>>0;if(0===r)return[];if(void 0===t)return[s];if(!n(t))return e.call(s,t,r);var c,o,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,f+"g");while(c=d.call(g,s)){if(o=g.lastIndex,o>h&&(u.push(s.slice(h,c.index)),c.length>1&&c.index<s.length&&p.apply(u,c.slice(1)),l=c[0].length,h=o,u.length>=r))break;g.lastIndex===c.index&&g.lastIndex++}return h===s.length?!l&&g.test("")||u.push(""):u.push(s.slice(h)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=i(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n,a):s.call(String(n),e,a)},function(t,n){var i=a(s,t,this,n,s!==e);if(i.done)return i.value;var d=r(t),f=String(this),p=c(d,RegExp),x=d.unicode,m=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),E=new p(g?d:"^(?:"+d.source+")",m),b=void 0===n?v:n>>>0;if(0===b)return[];if(0===f.length)return null===u(E,f)?[f]:[];var y=0,C=0,_=[];while(C<f.length){E.lastIndex=g?C:0;var S,k=u(E,g?f:f.slice(C));if(null===k||(S=h(l(E.lastIndex+(g?0:C)),f.length))===y)C=o(f,C,x);else{if(_.push(f.slice(y,C)),_.length===b)return _;for(var w=1;w<=k.length-1;w++)if(_.push(k[w]),_.length===b)return _;C=y=S}}return _.push(f.slice(y)),_}]}),!g)},"14c3":function(t,e,a){var s=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"159b":function(t,e,a){var s=a("da84"),n=a("fdbc"),r=a("17c2"),i=a("9112");for(var c in n){var o=s[c],l=o&&o.prototype;if(l&&l.forEach!==r)try{i(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(t,e,a){"use strict";var s=a("b727").forEach,n=a("a640"),r=a("ae40"),i=n("forEach"),c=r("forEach");t.exports=i&&c?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var s=a("23e7"),n=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(t,e,a){var s=a("861d"),n=a("c6b6"),r=a("b622"),i=r("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},7501:function(t,e,a){},"76a1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderPay"},[a("van-nav-bar",{attrs:{title:"提交订单","left-text":"返回",fixed:!0,"left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),a("div",{staticClass:"box"},[t.userAddress?a("div",{staticClass:"site",on:{click:function(e){t.isShow=!0}}},[a("div",{staticClass:"info"},[a("span",{staticClass:"name"},[t._v(t._s(t.userAddress.name))]),a("span",[t._v(t._s(t.userAddress.tel))])]),a("p",[t._v(t._s(t.userAddress.address))])]):a("div",{staticClass:"addsite",on:{click:function(e){t.isShow=!0}}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),a("p",[t._v("添加收货地址")])]),a("div",{staticClass:"orderPay-content"},[a("div",{staticClass:"orderPay-item"},[a("div",{staticClass:"orderPay-goods"},[t._l(t.orderData,(function(e,s){return a("div",{key:s,staticClass:"goods"},[a("div",{staticClass:"goods-img"},[a("img",{staticClass:"auto-img",attrs:{src:e.small_img,alt:""}})]),a("div",{staticClass:"goods-content"},[a("div",{staticClass:"goods-text"},[a("div",{staticClass:"goods-title"},[a("span",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"price"},[t._v("￥"+t._s(e.price))])]),a("div",{staticClass:"enname"},[t._v(t._s(e.enname))])]),a("div",{staticClass:"goods-rule"},[a("span",{staticClass:"rule"},[t._v(t._s(e.rule))]),a("span",{staticClass:"count"},[t._v("×"+t._s(e.count))])])])])})),a("div",{staticClass:"total"},[a("span",{staticClass:"total-count"},[t._v("共计 "+t._s(t.count)+" 件商品 合计：")]),a("span",{staticClass:"total-pic"},[t._v("￥"+t._s(t.total))])])],2)])])]),a("van-submit-bar",{attrs:{price:100*t.total,"button-text":"立即支付"},on:{submit:t.payNow}}),a("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("van-address-list",{attrs:{list:t.addressData,"default-tag-text":"默认"},on:{add:function(e){return t.$router.push({name:"NewAddress"})},select:t.selectAddress},model:{value:t.aid,callback:function(e){t.aid=e},expression:"aid"}})],1)],1)},n=[],r=(a("4160"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("e7e5"),a("d399")),i={data:function(){return{isShow:!1,sids:null,addressData:[],userAddress:null,aid:null,orderData:null,count:0,total:0}},methods:{getAddressData:function(){var t=this,e=localStorage.getItem("Tk");r["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findAddress",params:{appkey:this.appkey,tokenString:e}}).then((function(e){r["a"].clear(),2e4==e.data.code&&e.data.result.forEach((function(e){var a={id:e.aid,name:e.name,tel:e.tel,address:e.province+e.city+e.county+e.addressDetail,isDefault:Boolean(e.isDefault)};e.isDefault&&(t.aid=e.aid,t.userAddress={name:e.name,tel:e.tel,address:e.province+e.city+e.county+e.addressDetail}),t.addressData.push(a)}))})).catch((function(t){r["a"].clear()}))},selectAddress:function(t){this.isShow=!1,this.userAddress={name:t.name,tel:t.tel,address:t.address}},getOrderData:function(){var t=this,e=localStorage.getItem("Tk");r["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/commitShopcart",params:{appkey:this.appkey,tokenString:e,sids:JSON.stringify(this.sids)}}).then((function(e){r["a"].clear(),5e4==e.data.code&&(e.data.result.forEach((function(e){t.count+=e.count,t.total+=e.count*e.price})),t.orderData=e.data.result)})).catch((function(t){r["a"].clear()}))},payNow:function(){var t=this;if(this.userAddress){var e=localStorage.getItem("Tk");r["a"].loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/pay",data:{appkey:this.appkey,tokenString:e,sids:JSON.stringify(this.sids),phone:this.userAddress.tel,address:this.userAddress.address,receiver:this.userAddress.name}}).then((function(e){r["a"].clear(),6e4==e.data.code&&t.$router.push({name:"Order"})})).catch((function(t){r["a"].clear()}))}else r["a"].fail("请添加收货地址")}},created:function(){this.sids=this.$route.query.sids.split("-"),this.getAddressData(),this.getOrderData()}},c=i,o=(a("cbe2"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,"888d6cd8",null);e["default"]=l.exports},"8aa5":function(t,e,a){"use strict";var s=a("6547").charAt;t.exports=function(t,e,a){return e+(a?s(t,e).length:1)}},9263:function(t,e,a){"use strict";var s=a("ad6d"),n=a("9f7f"),r=RegExp.prototype.exec,i=String.prototype.replace,c=r,o=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(c=function(t){var e,a,n,c,d=this,f=l&&d.sticky,p=s.call(d),h=d.source,v=0,g=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),a=new RegExp("^(?:"+h+")",p)),u&&(a=new RegExp("^"+h+"$(?!\\s)",p)),o&&(e=d.lastIndex),n=r.call(f?a:d,g),f?n?(n.input=n.input.slice(v),n[0]=n[0].slice(v),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:o&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&i.call(n[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},"9f7f":function(t,e,a){"use strict";var s=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=s((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=s((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,a){"use strict";var s=a("23e7"),n=a("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},cbe2:function(t,e,a){"use strict";var s=a("7501"),n=a.n(s);n.a},d784:function(t,e,a){"use strict";a("ac1f");var s=a("6eeb"),n=a("d039"),r=a("b622"),i=a("9263"),c=a("9112"),o=r("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var h=r(t),v=!n((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),g=v&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[h]=/./[h]),a.exec=function(){return e=!0,null},a[h](""),!e}));if(!v||!g||"replace"===t&&(!l||!u||f)||"split"===t&&!p){var x=/./[h],m=a(h,""[t],(function(t,e,a,s,n){return e.exec===i?v&&!n?{done:!0,value:x.call(e,a,s)}:{done:!0,value:t.call(a,e,s)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),E=m[0],b=m[1];s(String.prototype,t,E),s(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}d&&c(RegExp.prototype[h],"sham",!0)}},e7e5:function(t,e,a){"use strict";a("68ef"),a("a71a"),a("9d70"),a("3743"),a("4d75"),a("e3b3"),a("b258")}}]);
//# sourceMappingURL=chunk-05466652.74ba5eba.js.map